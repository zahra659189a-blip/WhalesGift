<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>๐ผ Panda Giveaways</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Lottie Player -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>
<body>
    
    <!-- ๐ HEADER - ูุนูููุงุช ุงููุณุชุฎุฏู -->
    <header id="app-header" class="app-header">
        <div class="user-profile">
            <div class="user-avatar">
                <img id="user-avatar" src="" alt="User Avatar">
            </div>
            <div class="user-info">
                <h3 id="user-name">ุฌุงุฑู ุงูุชุญููู...</h3>
                <p id="user-username">@username</p>
            </div>
        </div>
        <div class="user-balance">
            <span class="balance-label">๐ฐ ุงูุฑุตูุฏ</span>
            <span class="balance-amount" id="user-balance">0.0000</span>
            <span class="balance-currency">TON</span>
        </div>
    </header>

    <!-- ๐ฑ MAIN CONTAINER -->
    <main class="main-container">
        
        <!-- ๐ฐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ - ุนุฌูุฉ ุงูุญุธ -->
        <section id="page-wheel" class="page active">
            <div class="spins-info">
                <div class="spins-available">
                    <span class="spins-count" id="available-spins">0</span>
                    <span class="spins-label">ููุฉ ูุชุงุญุฉ</span>
                </div>
            </div>

            <!-- ุนุฌูุฉ ุงูุญุธ -->
            <div class="wheel-container">
                <div class="wheel-wrapper">
                    <div class="wheel-pointer"></div>
                    <canvas id="wheel-canvas" width="350" height="350"></canvas>
                    <button id="spin-button" class="spin-button">
                        <span>๐ฐ ูู ุงูุขู</span>
                    </button>
                </div>
            </div>

            <!-- ูุชูุฌุฉ ุงูููุฉ -->
            <div id="spin-result" class="spin-result hidden">
                <lottie-player id="success-animation" src="../public/img/success_stars.json" 
                    background="transparent" speed="1" style="width: 150px; height: 150px; margin: 0 auto;" 
                    loop autoplay>
                </lottie-player>
                <h2 id="result-text">๐ ุชูุงูููุง!</h2>
                <p id="result-amount">ุฑุจุญุช 0.1 TON</p>
            </div>

            <!-- ุขุฎุฑ ุงูุฃุฑุจุงุญ -->
            <div class="recent-wins">
                <h3>๐ ุขุฎุฑ ุฃุฑุจุงุญู</h3>
                <div id="recent-wins-list" class="wins-list">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
            </div>
        </section>

        <!-- ๐ฅ ุตูุญุฉ ุงูุฅุญุงูุงุช -->
        <section id="page-referrals" class="page">
            <!-- Loading Animation for Referrals Page -->
            <div id="referrals-loading" class="page-loading">
                <lottie-player src="../public/img/loginSticker.json" 
                    background="transparent" speed="1" style="width: 200px; height: 200px; margin: 0 auto;" 
                    loop autoplay>
                </lottie-player>
                <p>ุฌุงุฑู ุชุญููู ุจูุงูุงุช ุงูุฅุญุงูุงุช...</p>
            </div>

            <div id="referrals-content" class="referrals-content">
                <div class="page-header">
                    <h2>๐ฅ ุงูุฅุญุงูุงุช</h2>
                </div>

                <div class="referral-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <img src="../public/img/profile/referral_program.svg" alt="Referrals" style="width: 40px; height: 40px;">
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="total-referrals">0</span>
                            <span class="stat-label">ุฅุฌูุงูู ุงูุฅุญุงูุงุช</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">๐ฐ</div>
                        <div class="stat-info">
                            <span class="stat-value" id="earned-spins">0</span>
                            <span class="stat-label">ุงูููุงุช ุงูููุชุณุจุฉ</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">โณ</div>
                        <div class="stat-info">
                            <span class="stat-value" id="next-spin-in">5</span>
                            <span class="stat-label">ูุชุจูู ูููุฉ ุงููุงุฏูุฉ</span>
                        </div>
                    </div>
                </div>

                <!-- ุฑุงุจุท ุงูุฅุญุงูุฉ -->
                <div class="referral-link-box">
                    <h3>๐ ุฑุงุจุท ุงูุฅุญุงูุฉ ุงูุฎุงุต ุจู</h3>
                    <div class="link-input-group">
                        <img src="../public/img/referral_program.svg" alt="Link" class="link-icon">
                        <input type="text" id="referral-link" readonly>
                        <button id="copy-link-btn" class="copy-btn modern-btn">
                            <span class="btn-icon">๐</span>
                            <span class="btn-text">ูุณุฎ</span>
                        </button>
                    </div>
                    <button id="share-link-btn" class="share-btn modern-btn">
                        <span class="btn-icon">๐ค</span>
                        <span class="btn-text">ูุดุงุฑูุฉ ุงูุฑุงุจุท</span>
                    </button>
                </div>
            </div>

            <!-- ูุงุฆูุฉ ุงููุฏุนููู -->
            <div class="referrals-list">
                <h3>๐ ูุงุฆูุฉ ุงููุฏุนููู</h3>
                <div id="referrals-list-content" class="list-content">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
            </div>
        </section>

        <!-- ๐ ุตูุญุฉ ุงูููุงู -->
        <section id="page-tasks" class="page">
            <div class="page-header">
                <h2>๐ ุงูููุงู</h2>
                <p class="page-description">ุฃููู ุงูููุงู ูุงุญุตู ุนูู ููุงูุขุช!</p>
            </div>

            <div class="tasks-progress">
                <div class="progress-info">
                    <span>๐ ุชูุฏูู: <strong id="completed-tasks-count">0</strong> / <strong id="total-tasks-count">0</strong></span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="tasks-progress-fill"></div>
                </div>
            </div>

            <!-- ูุงุฆูุฉ ุงูููุงู -->
            <div class="tasks-list" id="tasks-list">
                <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
            </div>
        </section>

        <!-- ๐ธ ุตูุญุฉ ุงูุณุญุจ -->
        <section id="page-withdraw" class="page">
            <div class="page-header">
                <h2>๐ธ ุงูุณุญุจ</h2>
            </div>

            <div class="balance-display">
                <div class="balance-card">
                    <span class="balance-label">๐ฐ ุฑุตูุฏู ุงูุญุงูู</span>
                    <span class="balance-value" id="withdraw-balance">0.0000</span>
                    <span class="balance-currency">TON</span>
                </div>
            </div>

            <!-- ุทุฑู ุงูุณุญุจ -->
            <div class="withdrawal-methods">
                <h3>ุงุฎุชุฑ ุทุฑููุฉ ุงูุณุญุจ</h3>
                
                <div class="method-tabs">
                    <button class="method-tab active" data-method="ton">
                        <span class="tab-icon">๐</span>
                        <span>TON Wallet</span>
                    </button>
                    <button class="method-tab" data-method="vodafone">
                        <span class="tab-icon">๐ฑ</span>
                        <span>Vodafone Cash</span>
                    </button>
                </div>

                <!-- ูููุฐุฌ ุงูุณุญุจ TON -->
                <div id="withdraw-form-ton" class="withdraw-form active">
                    <div class="form-group">
                        <label>๐ ุนููุงู ูุญูุธุฉ TON</label>
                        <input type="text" id="ton-wallet-input" placeholder="UQxxxxxxxxxxxxxxxx">
                    </div>
                    <div class="form-group">
                        <label>๐ฐ ุงููุจูุบ (TON)</label>
                        <div class="amount-input-group">
                            <input type="number" id="ton-amount-input" placeholder="0.00" step="0.01" min="1">
                            <button id="max-btn-ton" class="max-btn">MAX</button>
                        </div>
                        <span class="min-withdraw-note">ุงูุญุฏ ุงูุฃุฏูู: 1.0 TON</span>
                    </div>
                    <button id="withdraw-btn-ton" class="withdraw-btn">๐ธ ุทูุจ ุงูุณุญุจ</button>
                </div>

                <!-- ูููุฐุฌ ุงูุณุญุจ Vodafone -->
                <div id="withdraw-form-vodafone" class="withdraw-form">
                    <div class="form-group">
                        <label>๐ฑ ุฑูู ููุฏุงููู ูุงุด</label>
                        <input type="tel" id="vodafone-number-input" placeholder="01xxxxxxxxx">
                    </div>
                    <div class="form-group">
                        <label>๐ฐ ุงููุจูุบ (TON)</label>
                        <div class="amount-input-group">
                            <input type="number" id="vodafone-amount-input" placeholder="0.00" step="0.01" min="1">
                            <button id="max-btn-vodafone" class="max-btn">MAX</button>
                        </div>
                        <span class="min-withdraw-note">ุงูุญุฏ ุงูุฃุฏูู: 0.1 TON</span>
                    </div>
                    <button id="withdraw-btn-vodafone" class="withdraw-btn">๐ธ ุทูุจ ุงูุณุญุจ</button>
                </div>
            </div>

            <!-- ุณุฌู ุงูุณุญูุจุงุช -->
            <div class="withdrawal-history">
                <h3>๐ ุณุฌู ุงูุณุญูุจุงุช</h3>
                <div id="withdrawal-history-list" class="history-list">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
            </div>
        </section>

    </main>

    <!-- ๐ฑ BOTTOM NAVIGATION -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-page="wheel">
            <span class="nav-icon">๐ฐ</span>
            <span class="nav-label">ุงูุนุฌูุฉ</span>
        </button>
        <button class="nav-item" data-page="referrals">
            <span class="nav-icon">๐ฅ</span>
            <span class="nav-label">ุงูุฅุญุงูุงุช</span>
        </button>
        <button class="nav-item" data-page="tasks">
            <span class="nav-icon">๐</span>
            <span class="nav-label">ุงูููุงู</span>
        </button>
        <button class="nav-item" data-page="withdraw">
            <span class="nav-icon">๐ธ</span>
            <span class="nav-label">ุงูุณุญุจ</span>
        </button>
    </nav>

    <!-- ๐ TOAST NOTIFICATIONS -->
    <div id="toast-container" class="toast-container"></div>

    <!-- โณ LOADING OVERLAY -->
    <div id="loading-overlay" class="loading-overlay">
        <lottie-player src="../public/img/login.json" 
            background="transparent" speed="1" style="width: 200px; height: 200px;" 
            loop autoplay>
        </lottie-player>
        <p class="loading-text">ุฌุงุฑู ุงูุชุญููู...</p>
    </div>

    <!-- ๐ WIN MODAL -->
    <div id="win-modal" class="modal">
        <div class="modal-content win-modal">
            <lottie-player id="win-animation" src="../public/img/success_stars.json" 
                background="transparent" speed="1" style="width: 200px; height: 200px; margin: 0 auto;" 
                loop autoplay>
            </lottie-player>
            <h2 id="modal-win-title">๐ ุชูุงูููุง!</h2>
            <p id="modal-win-amount">ุฑุจุญุช 0.1 TON</p>
            <button class="modal-btn" onclick="closeWinModal()">ุฑุงุฆุน! ๐</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/wheel.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
